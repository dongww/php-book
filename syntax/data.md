#数据

编程，说白了就是进行数据的计算，数据的处理，数据的传输，数据的呈现等工作。所以把数据说成是编程的核心我认为一点也不为过。

有些数据可能会发生变化，例如“年龄”，一年大一岁，今年19，明年20。可改变的数据称之为 **变量**。更改变量数据的过程，我们称为 **赋值**。
不过有一个例外：`$this`，它虽然也称之为变量，但是它不能直接被赋值。

> 当一个类实现了 `ArrayAccess` 接口之后，`$this` 可以数组的形式进行赋值：$this['age'] = 12;

还有一些数据绝不可能发生变化，例如“性别”，你是男的这辈子都是男的，虽然可以变性成女的，但你体内无数个 YY 却掩饰不了你是个男人的本质。
不允许变化的数据称之为 **常量**。

我们需要频繁地使用数据，所有还得给它起个名字，否则我们很难召唤到它。
给变量起的名字叫做 **变量名**，给常量起的名字叫做 **常量名**。

##变量

我们已经在 `tags01.php` 中看到过一些变量。在 PHP 中，变量名的第一个字符必须是 `$`。其实我个人很反感这个符号，
敲起来不太顺手，而敲它的次数又是如此之多，严重影响效率加速疲劳。不过它也有它的好处，正是由于这个字符的存在，
使得我们可以简单地将变量插入到字符串中，例如：

~~~ .php

 $name = 'dongww';

 echo "my name is $name" ; //输出为： my name is dongww

~~~

在我自己的开发工具里，`$` 符号已经被替换成 `d + 回车`，我感觉这样更顺手。
如果你的工具也支持替换功能，强烈建议你替换掉它。虽然敲几个 `$` 费不了多少劲，但是大量地累积以后，你会疲劳得更快。
我们不仅要努力写出高质量的代码，也要想办法提高效率，减少疲劳度无疑是提高效率的一种办法。
减少疲劳度的方法还有很多，例如换个好键盘，尽可能使用快捷键等等。

###引用

任何数据都会有与之对应的变量名，并且，同一个数据，可以有多个变量名，就好像一个人可能会有多种称呼。有人叫我哥哥，有人叫我弟弟，有人直呼我的姓名，
但在特定的场合，别人无论叫的啥，我都知道是在叫我。

数据也同样可以有多个别名，可以让你通过任意一个别名操作同一个数据。在 PHP 中，别名的专业术语叫做 **引用**。

下面的代码是使用引用的演示：

~~~ .php

<?php
/**
 * 文件：data01.php
 */

//'http://www.php-go.com' 是数据，'$phpGO的网址' 是数据的名称。
$phpGO的网址 = 'http://www.php-go.com';

//下面一行代码是引用的语法，相当于给数据起了个别名：$我的网站，现在数据有了两个名字，即两个变量名。
$我的网站 = & $phpGO的网址;

//我们无论操作哪个变量名，操作的其实都是同一个数据。
//我们试着用别名来更改一下网址
$我的网站 = 'http://www.dongww.com';

//输出的是改变后的网址。
echo $phpGO的网址;

~~~

上面的代码看上去可能有点怪，这是因为变量名我使用了中文。没错，PHP 可以使用中文变量名，但前提是文件必须保存为 UTF-8 格式。
虽然可以这么做，但是在真实的优秀项目中，使用中文变量名的案例实在少之又少，所以我并不确定当项目变得复杂时，是否会出现一些问题。
不过我鼓励大家勇敢地尝试（如果你不打算把代码给老外看的话）。

引用还可以用在函数中，下面是一个演示：

~~~ .php

<?php
/**
 * 文件：data02.php
 */

/**
 * 以引用的方式将数据传入内部进行网址更改的函数。
 *
 * @param string $旧网址 旧的网址
 * @param string $新网址 新的网址
 */
function 更改网址(&$旧网址, $新网址)
{
    $旧网址 = $新网址;
}

$phpGO的网址 = 'http://www.php-go.com';

//调用函数，该函数内部的操作是以引用的形式，操作的是同一个数据。
更改网址($phpGO的网址, 'http://www.dongww.com');

//输出的是更改以后的新网址。
echo $phpGO的网址;

~~~

在非面向对象的开发方式下，使用“引用”有的时候是为了使代码更简洁易读，有的时候好像不得不这样做。
像上面这个例子，如果我们不得不在函数内部更改一个外部的数据，使用引用会比较方便。

但如果你是以面向对象的方式编写的高质量代码，其实是完全可以避免使用“引用”这个功能的。
毕竟引用多少会增加代码的复杂度，导致无意中出错的几率（谁都不想犯错，但我们毕竟是凡人啊），接着就是增加调试的时间精力了。

从 PHP 5 开始，对象的创建和赋值会自动使用“引用”，无需手动添加。

~~~ .php

<?php
/**
 * 文件名：data03.php
 */

$phpGO网站     = new stdClass();
$phpGO网站->网址 = 'http://www.php-go.com';

//无需使用引用符号
$我的网站 = $phpGO网站;

//我们无论操作哪个变量名，操作的其实都是同一个数据。
$我的网站->网址 = 'http://www.dongww.com';

//输出的是改变后的网址。
echo $phpGO网站->网址 . PHP_EOL;

/**
 * 进行网址更改的函数。
 *
 * @param stdClass $网站  网站对象
 * @param string   $新网址 新的网址
 */
function 更改网址($网站, $新网址)
{
    $网站->网址 = $新网址;
}

更改网址($phpGO网站, 'http://example.com');

//输出的是改变后的网址。
echo $phpGO网站->网址;

~~~

更多关于引用的帮助，请参考官方文档。

##数据类型

这个世界是如此的复杂，以至于为这个现实世界服务的程序语言再怎么精炼，也不得不提供多种数据类型来满足开发人员的需求。
仅仅这样还不够，这些类型总有无能为力的时候，所以程序语言又不得不提供给开发人员自定义数据类型的能力。
